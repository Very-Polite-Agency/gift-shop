"use strict";var Credits=function(){var e="Very Polite Agency",t='"Always Be Polite™"',o="2.0";return{init:function(){console.log("".concat(e," - ").concat(t," - Version ").concat(o)),console.log("Site by Very Polite Agency – https://weareverypolite.com/")}}},Breakpoints=function(){return{debug:!1,info:{name:"Breakpoints",version:"1.0"},sizes:{sm:576,md:768,lg:992,xl:1200,xxl:1400}}},Forms=function(){var e={name:"Forms",version:"2.2.3"},t=new Tools,o=25,n=[],i=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];console.log("isFieldValid() start");var o=!1,n=e.name||"no-name",i=e.type||"no-type",r=e.nodeName||"no-node-name";switch(r){case"INPUT":switch(i){case"checkbox":o=e.checked;break;case"email":validator.isEmail(e.value.trim())&&(o=!0);break;case"file":case"radio":break;case"tel":validator.isMobilePhone(e.value.trim())&&(o=!0);break;case"password":case"text":validator.isEmpty(e.value.trim())||(o=!0)}break;case"TEXTAREA":validator.isEmpty(e.value.trim())||(o=!0)}return o?t.removeClass("error",[e.closest(".form__field")]):t.addClass("error",[e.closest(".form__field")]),console.log({type:i,name:n,nodeName:r,isValid:o}),console.log("isFieldValid() finish"),o};return{info:e,init:function(){(document.querySelectorAll("form")||[]).forEach((function(e){e.addEventListener("focusin",(function(e){e.target.closest(".form__field")&&e.target.closest(".form__field").classList.add("in-focus")})),e.addEventListener("focusout",(function(e){e.target.closest(".form__field")&&!e.target.value&&e.target.closest(".form__field").classList.remove("in-focus")}))})),document.querySelectorAll('.js--validate-me [type="submit"]').forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var r=e.closest("form"),a=function(){for(var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!0,o=e.querySelectorAll(".required")||[],n=0;n<o.length;n++)console.log("isFormValid() loop count"+n),i(o[n])||(t=!1);return t}(r),l=function(){for(var e=(arguments.length>0&&void 0!==arguments[0]&&arguments[0]).querySelectorAll("input.rude")||[],t=0;t<e.length;t++)if(e[t].value)return!0;return!1}(r),c=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];console.log("hasFiles start");var t=0,i=e.querySelectorAll('input[type="file"]')||[];n.length=0;for(var r=0;r<i.length;r++){var a=i[r],l=a.closest(".field"),c=l.querySelector(".form__error-message")||!1,s=a.files||{},d="";for(var u in s)t+=s[u].size||0,s[u].size&&n.push(s[u]);if((t=t/1024/1024)>o)return d="The total file size (".concat(t.toFixed(1),"MB) is larger than ").concat(o,".0MB"),l.classList.add("error"),c&&(c.innerHTML=d),!1;c&&(c.innerHTML=d),l.classList.remove("error")}return console.log("hasFiles end",{totalMB:t,maxMB:o}),!0}(r);a&&!l&&c&&function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e.action||!1,o=new FormData(e),i=e.dataset.redirectUrl||!1,r=e.dataset.formType||"default",a={};n.length&&n.forEach((function(e,t){o.append("files",e)})),o.forEach((function(e,t){return a[t]=e})),document.body.classList.add("form-posting"),console.log(a),axios.post(t,o).then((function(t){switch(r){case"lead-generation":e.reset(),setTimeout((function(){e.classList.remove("posting"),alert("Thanks ".concat(a["First Name"],"!"))}),750);break;case"redirect":i&&window.location.replace(i);break;default:window.location.replace("/pages/thank-you")}})).catch((function(e){console.log("catch() data :: ",e)}))}(r)}))}))}}};function ownKeys(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(o),!0).forEach((function(t){_defineProperty(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):ownKeys(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function _defineProperty(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}var Gliders=function(){var e=!1,t={name:"Gliders",version:"1.0"},o=(new Tools,new Breakpoints),n={},i=!1,r=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t={animationTimingFunc:"ease-in-out",animationDuration:280,autoplay:3200,breakpoints:{9999:{perView:1,peek:90},991:{perView:1,peek:50}},hoverpause:!0,perView:1,type:"carousel",rewind:!0,throttle:50,gap:12};return e&&"object"==_typeof(e)&&(t=_objectSpread(_objectSpread({},t),e)),t},a=function(){for(var e=document.querySelectorAll(".js--glider")||[],t=0;t<e.length;t++){var o=e[t],i=o.id,a=o.dataset.glideStyle||"not-set",l="true"===o.dataset.glideDesktopOnly||!1,c="true"===o.dataset.glideMobileOnly||!1,s="true"===o.dataset.glideGap||!1,d=r();switch(n[i]={desktopOnly:l,glider:!1,element:o,id:i,active:!1,style:a,mobileOnly:c,gap:s},a){case"educational-carousel-detailed":d=r({autoplay:0,breakpoints:{9999:{focusAt:0,gap:32,peek:{before:0,after:175},perView:5},1599:{focusAt:0,gap:32,peek:{before:0,after:150},perView:4},1299:{focusAt:0,gap:32,peek:{before:0,after:125},perView:3},991:{focusAt:0,gap:32,peek:{before:0,after:100},perView:2},767:{focusAt:0,gap:32,peek:{before:0,after:75},perView:1},575:{focusAt:0,perView:1}},gap:0,peek:0});break;case"educational-carousel-minimal":d=r({breakpoints:{9999:{focusAt:"center",gap:72,peek:0,perView:11},1599:{focusAt:"center",gap:62,peek:0,perView:9},1399:{focusAt:"center",gap:52,peek:0,perView:7},1199:{focusAt:"center",gap:42,peek:0,perView:6},991:{focusAt:"center",gap:32,peek:0,perView:5},767:{focusAt:"center",gap:32,peek:{before:55,after:55},perView:4},575:{focusAt:"center",gap:32,peek:{before:35,after:35},perView:3},400:{focusAt:"center",gap:32,peek:{before:15,after:15},perView:1}},gap:32,peek:0})}s&&(d.gap=10),n[i].options=d}},l=function(){var e=window.innerWidth;for(var t in n){var i=n[t];i.mobileOnly?e>o.sizes.lg?c(i.id,!1,i.options):c(i.id,!0,i.options):i.desktopOnly?e>=o.sizes.lg?c(i.id,!0,i.options):c(i.id,!1,i.options):c(i.id,!0,i.options)}},c=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e){var i=n[e];if(t){if(!1===i.active){var r=new Glide("#"+i.id,o),a=["build.after","run.after"];r.on("mount.after",(function(t){i.glider=r,i.active=!0,n[e]=i})),r.on(a,(function(){if(setTimeout((function(){return s(i.element)}),100),"soul"===i.style){var e=i.element.querySelector(".glide__slide--active .soul__item-image")||!1,t=i.element.querySelector(".glide__button")||!1;if(e&&t){var o=(e.offsetHeight-t.offsetHeight)/2;i.element.querySelectorAll(".glide__button").forEach((function(e){e.style.top=o+"px"}))}}})),(document.querySelectorAll('[data-target="#'+i.id+'"].next')||[]).forEach((function(e){e.addEventListener("click",(function(){r.go(">")}))})),(document.querySelectorAll('[data-target="#'+i.id+'"].prev')||[]).forEach((function(e){e.addEventListener("click",(function(){r.go("<")}))})),r.mount()}}else!0===i.active&&(i.glider.destroy(),i.element.querySelector(".glide__track").style.height="auto",i.active=!1,n[e]=i)}},s=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e){var t=e.querySelector(".glide__slide--active")||!1,o=e.querySelector(".glide__track")||!1;if(t&&o){var n=t.offsetHeight,i=o.offsetHeight;i!=n&&(o.style.height=n+"px",AOS.refresh())}}};return{debug:e,info:t,init:function(){a(),l(),window.addEventListener("resize",(function(e){i||(window.requestAnimationFrame((function(){l(),i=!1})),i=!0)}))},gliderOptions:r,gliders:n}},InstagramFeed=function(){var e=new Tools,t="instagram-feed",o={},n={interval:null,id:t,glider:{},count:0},i=function(){n.glider=new Glide("#".concat(n.id),{animationTimingFunc:"ease-in-out",animationDuration:280,autoplay:3500,breakpoints:{9999:{focusAt:0,gap:20,peek:{before:0,after:64},perView:5},1399:{focusAt:0,gap:20,peek:{before:0,after:64},perView:4},991:{focusAt:0,gap:20,peek:{before:0,after:64},perView:3},767:{focusAt:0,gap:20,peek:{before:0,after:64},perView:2}},gap:20,peek:0,hoverpause:!0,type:"carousel",rewind:!0,throttle:50}),n.glider.on("mount.after",(function(e){setTimeout((function(){n.glider.update()}),250)})),(document.querySelectorAll('[data-target="#'.concat(n.id,'"].next'))||[]).forEach((function(e){e.addEventListener("click",(function(){n.glider.go(">")}))})),(document.querySelectorAll('[data-target="#'.concat(n.id,'"].prev'))||[]).forEach((function(e){e.addEventListener("click",(function(){n.glider.go("<")}))})),n.glider.mount()},r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return console.log("renderFeedMarkup ::",{account:e,media:o}),n.count=0,'\n      <div class="glide" id="'.concat(n.id,'" data-glide-style="').concat(t,'">\n        <div class="glide__track" data-glide-el="track">\n          <ul class="glide__slides">\n            ').concat(o.map((function(t){return"".concat(a(e,t))})).join(""),"\n          </ul>\n        </div>\n      </div>\n    ")};function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};console.log("renderFeedCardMarkup ::",{account:e,item:i});var r=i.id,a=void 0===r?"":r,l=i.media_type,c=void 0===l?"":l,s=i.media_url,d=void 0===s?"":s,u=i.permalink,f=void 0===u?"":u,g="";return("CAROUSEL_ALBUM"==c||"IMAGE"==c)&&n.count<o[e].limit&&(g='\n        <li class="glide__slide">\n          <div class="'.concat(t,'__item" id="').concat(a,'" data-count="').concat(n.count,'">\n            <a class="').concat(t,'__item-link link" href="').concat(f,'" target="_blank">\n              <div class="').concat(t,'__item-image lazyload-item lazyload-item--image lazypreload lazyload-item--background lazyload" data-bg="').concat(d,'"></div>\n            </a>\n          </div>\n        </li>\n      '),n.count++),g}var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];console.log("printMedia ::",{account:e,media:t}),t.length&&e&&(document.querySelectorAll("[data-instagram-feed-account='".concat(e,"']"))||[]).forEach((function(o){o.innerHTML=r(e,t),i()})),console.log("printMedia :: Complete")},c=function(t){var o="https://very-polite-instagram-feed.herokuapp.com/token?userAccount=".concat(t);console.log("getToken ::",{fetchURL:o}),fetch(o).then((function(e){return e.json()})).then((function(o){console.log("getToken( $account ) :: JSON",o),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"not-set",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"not-set",n="https://graph.instagram.com/me/media?fields=id,media_type,media_url,permalink&access_token=".concat(o);console.log("getMedia ::",{fetchURL:n}),fetch(n).then((function(e){return e.json()})).then((function(o){console.log("getMedia:",o);var n={account:t,date:Date.now(),data:o.data};e.setLocalStorage("very-polite-instagram-feed--".concat(t),JSON.stringify(n)),l(t,o.data)})).catch((function(e){return console.log("getMedia( $account, $token ) Error",e)}))}(t,o.token)})).catch((function(e){return console.log(e)}))},s=function(){for(var t in(document.querySelectorAll(".js--instagram-feed")||[]).forEach((function(e){var t=parseInt(e.dataset.instagramFeedLimit)||6,n=e.dataset.instagramFeedAccount||!1;console.log("getFeeds ::",{account:n,limit:t}),n&&t&&(o[n]={account:n,element:e,limit:t})})),o)if(console.log("main ::",t),e.getLocalStorageValueByKey("very-polite-instagram-feed--".concat(t))){var n=JSON.parse(e.getLocalStorageValueByKey("very-polite-instagram-feed--".concat(t)));((Date.now()-n.date)/6e4).toFixed(2)>30?(console.log("GREATER than 30 minutes since last check, get new token"),c(t)):(console.log("LESS than 30 minutes since last check, print from local storage"),l(t,n.data))}else console.log("Local storage does not exist, get token and then print media."),c(t)};return{info:{name:"Instagram Feed",version:"1.0"},init:function(){console.log("[ InstagramFeed.init() ] Start"),s(),console.log("[ InstagramFeed.init() ] End")},feeds:o}},MobileMenu=function(){var e=!1,t={name:"MobileMenu",version:"1.0"},o=new Tools,n=o.getArrayOfElementsByTag(),i=function(){(document.querySelectorAll(".js--mobile-menu-trigger")||[]).forEach((function(e){e.addEventListener("click",(function(){o.toggleClass("mobile-menu--active",n),e.classList.toggle("is-active")}))}))};return{debug:e,info:t,init:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];i()}}},Modals=function(){var e=!1,t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"show",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=document.getElementById(e)||!1,i=["show","close"].includes(t);n&&i&&setTimeout((function(){MicroModal[t](e,{onShow:function(e){},onClose:function(e){},awaitCloseAnimation:!0,disableScroll:!0})}),o)};return{debug:e,info:{name:"Modals",version:"2.5"},init:function(){document.querySelectorAll(".js--open-modal").forEach((function(e){e.addEventListener("click",(function(){var o=e.dataset.targetModalId||!1;o&&t(o,"show")}))})),document.querySelectorAll(".button[data-micromodal-close]").forEach((function(e){e.addEventListener("click",(function(){var o=(e.closest(".modal")||!1).id;o&&t(o,"close")}))}))},toggleModalVisibility:t}},RandomImage=function(){var e=document.querySelectorAll(".js--product-image-placeholder")||[],t=Theme.placeholder.product_images||[];return{init:function(){t.length&&e.forEach((function(e){var o=t[Math.floor(Math.random()*t.length)];e.setAttribute("data-src",o)}))}}},Scrolling=function(){var e=!1,t={name:"Scrolling",version:"1.0"},o=new Tools,n=o.getArrayOfElementsByTag(),i=!1,r="scroll-position--at-top",a="scroll-position--scrolled",l="scroll-position--scrolling-down",c="scroll-position--scrolling-up",s={current:window.pageYOffset||document.documentElement.scrollTop,initial:window.pageYOffset||document.documentElement.scrollTop,previous:window.pageYOffset||document.documentElement.scrollTop,down:!1},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;s.down=s.current>s.previous,e>15?o.addClass(a,n):o.removeClass(a,n),0===e?o.addClass(r,n):o.removeClass(r,n),s.down?(o.addClass(l,n),o.removeClass(c,n)):(o.addClass(c,n),o.removeClass(l,n))};return{debug:e,info:t,init:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];d(s.current),o.setHeaderHeightTotalCSSVariable(),document.addEventListener("scroll",(function(e){s.previous=s.current,s.current=window.pageYOffset||document.documentElement.scrollTop,i||(window.requestAnimationFrame((function(){d(s.current),o.setHeaderHeightTotalCSSVariable(),i=!1})),i=!0)}))}}},Sizing=function(){var e=!1,t={name:"Sizing",version:"1.0"},o=new Tools,n=(new Breakpoints,!1),i=function(){var e=window.innerHeight;e&&o.setCSSVariable("theme-viewport-height--total",e+"px")},r=function(){var e=document.querySelector(".container .col-12").getBoundingClientRect()||0;console.log(e),e&&o.setCSSVariable("theme-container-max-offset-left",e.left+"px")};return{debug:e,info:t,init:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];o.setHeaderHeightTotalCSSVariable(),i(),r(),window.addEventListener("resize",(function(e){n||(window.requestAnimationFrame((function(){o.setHeaderHeightTotalCSSVariable(),i(),r(),n=!1})),n=!0)}))}}},Tools=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return document.getElementsByTagName(e)[0].offsetHeight||0},t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e&&t&&document.documentElement.style.setProperty("--"+e,t)};return{debug:!1,info:{name:"Tools",version:"1.0"},addClass:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e&&t.length)for(var o=0;o<t.length;o++)t[o]&&t[o].classList.add(e)},getLocalStorageValueByKey:function(e){return localStorage.getItem(e)},getElementHeightByTag:e,getArrayOfElementsByTag:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["body","footer","header","main"],t=e.filter((function(e){return document.getElementsByTagName(e)[0]}))||[];return t.map((function(e){return document.getElementsByTagName(e)[0]}))||[]},removeClass:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e&&t.length)for(var o=0;o<t.length;o++)t[o]&&t[o].classList.remove(e)},setCSSVariable:t,setLocalStorage:function(e,t){localStorage.setItem(e,t)},setHeaderHeightTotalCSSVariable:function(){t("theme-header-total-height",e("header")+"px")},toggleClass:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e&&t.length)for(var o=0;o<t.length;o++)t[o]&&t[o].classList.toggle(e)}}},modules=[new RandomImage,new Scrolling,new Credits];modules.forEach((function(e){return e.init()})),AOS.init({offset:150,delay:0,duration:550,easing:"ease-in-out"});