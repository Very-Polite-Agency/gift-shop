{%- liquid

    comment
      Accepts:
        - classes: {String} Optionally include additional classes
        - index: {Integer} Optionally include index from loop object
    endcomment

    assign snippet_name = 'card-product-placeholder'
    assign snippet_classes = snippet_name | append: ' product'
    assign snippet_id = snippet_name

    if classes and classes != empty
      assign snippet_classes = snippet_classes | prepend: ' ' | prepend: classes
    endif

    if index
      if index >= 10
        assign snippet_id = snippet_id | append: '--' | append: index
      else
        assign snippet_id = snippet_id | append: '--0' | append: index
      endif
    endif

    assign aos_id = snippet_id | append: '--aos'
    assign aos_delay = 250
    assign aos_delay_increment = 250

    assign available = product.available | default: false
    assign date_published = product.published_at
    assign images = product.images | default: false

-%}

<article class="{{ snippet_classes }}" data-index="{{ index }}">
    <div class="{{ snippet_classes }}__layout" id="{{ aos_id }}">

      {% case style %}

        {% when 'something-custom' %}
          {% render 'price', product: product, show_symbol: true %}
          {% render 'button-add-to-cart', button_title: 'Add to Bag', variant_id: selected_variant.id %}

        {% else %}

          <div class="{{ snippet_name }}__image">
            <a class="{{ snippet_name }}__image-link link" href="{{ url }}" title="{{ title }}" target="_self">
              {% render 'lazyload-image', classes: 'card-product__image-01', image: images[0] %}
              {% render 'lazyload-image', classes: 'card-product__image-02', image: images[1] %}
            </a>
          </div>
          <div class="{{ snippet_name }}__content">
            <strong class="{{ snippet_name }}__title">
              <a class="{{ snippet_name }}__title-link link" href="{{ url }}" title="{{ title }}" target="_self">{{ title }}</a>
            </strong>
          </div>

      {% endcase %}

    </div>
</article>
